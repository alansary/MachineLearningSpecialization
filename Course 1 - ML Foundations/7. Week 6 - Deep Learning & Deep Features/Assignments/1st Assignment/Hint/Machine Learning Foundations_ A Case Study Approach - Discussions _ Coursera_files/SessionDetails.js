define("bundles/discussions/components/SessionDetails",["require","exports","module","moment","moment-timezone","underscore","i18n!nls/discussions","js/lib/coursera.react-intl","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){"use strict";function _defaults(e,r){for(var o=Object.getOwnPropertyNames(r),t=0;t<o.length;t++){var n=o[t],s=Object.getOwnPropertyDescriptor(r,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,s,i=require("moment");require("moment-timezone");var a=require("underscore"),o=a.compose,t=require("i18n!nls/discussions"),c=require("js/lib/coursera.react-intl"),l=c.FormattedMessage,e=require("react"),u=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),p="America/Los_Angeles",r=function formatDate(e){return i(e).tz(p).format("MMMM D")},d=(s=n=function(n){function SessionDetails(){return _classCallCheck(this,SessionDetails),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(SessionDetails,n),SessionDetails.prototype.renderSessionDetails=function renderSessionDetails(){if(this.props.isPinned)return t("This thread is visible to all learners because it is pinned.");if(this.props.hasSession)return e.createElement(l,{message:t("This thread is only visible to learners in the {startDate} - {endDate} session."),startDate:this.props.startedAt,endDate:this.props.endedAt});return t("This thread is only visible to on-demand learners.")},SessionDetails.prototype.render=function render(){return e.createElement("div",{className:"rc-SessionDetails mentor-message align-horizontal-center"},this.renderSessionDetails())},SessionDetails}(e.Component),n.propTypes={question:e.PropTypes.object.isRequired,hasSession:e.PropTypes.bool,startedAt:e.PropTypes.string,endedAt:e.PropTypes.string,isPinned:e.PropTypes.bool},s);module.exports=o(u(["SessionFilterStore"],function(n,s){var t=n.SessionFilterStore,o=s.question,e=t.allSessions&&t.allSessions.find(function(e){return e.id===o.sessionId});return{hasSession:!!e,startedAt:e&&r(e.startedAt),endedAt:e&&r(e.endedAt)}}))(d)});