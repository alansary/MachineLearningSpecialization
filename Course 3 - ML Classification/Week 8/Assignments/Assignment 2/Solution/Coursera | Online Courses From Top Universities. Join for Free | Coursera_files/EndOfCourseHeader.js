define("bundles/item/components/EndOfCourseHeader",["require","exports","module","react","bundles/s12n/service/constants","bundles/item/components/HeaderSummary","bundles/ondemand/components/PartnerLogo","bundles/ondemand/models/S12n","pages/open-course/common/models/course","bundles/phoenix/lib/waitForStores","i18n!nls/item","js/lib/coursera.react-intl","css!./__styles__/EndOfCourseHeader"],function(require,exports,module){"use strict";function _defaults(e,s){for(var o=Object.getOwnPropertyNames(s),t=0;t<o.length;t++){var r=o[t],n=Object.getOwnPropertyDescriptor(s,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,s,e=require("react"),a=require("bundles/s12n/service/constants"),c=a.genericS12nHeaderImage,o=require("bundles/item/components/HeaderSummary"),i=require("bundles/ondemand/components/PartnerLogo"),u=require("bundles/ondemand/models/S12n"),l=require("pages/open-course/common/models/course"),m=require("bundles/phoenix/lib/waitForStores"),t=require("i18n!nls/item"),p=require("js/lib/coursera.react-intl"),r=p.FormattedHTMLMessage;require("css!./__styles__/EndOfCourseHeader");var d=(s=n=function(n){function EndOfCourseHeader(){return _classCallCheck(this,EndOfCourseHeader),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(EndOfCourseHeader,n),EndOfCourseHeader.prototype.renderPartnerLogo=function renderPartnerLogo(){var t=this.props.course;return e.createElement(i,{title:t.get("name"),thumbnail:t.getFirstPartnerSquareLogo()})},EndOfCourseHeader.prototype.renderHeaderMessage=function renderHeaderMessage(){var o=this.props,n=o.course,s=o.s12n;if(!s)return e.createElement(r,{message:t("You have successfully completed {courseName} from {partnerNames}."),courseName:e.createElement("span",{className:"body-2-text"},n.get("name")),partnerNames:e.createElement("span",{className:"body-2-text"},n.get("universities").getNamesString())});if(!s.getNextCourse(n.get("id")))return e.createElement(r,{message:t("You have successfully completed {courseName} and the {s12nName} specialization!"),courseName:e.createElement("span",{className:"body-2-text"},n.get("name")),s12nName:e.createElement("span",{className:"body-2-text"},s.getName())});return e.createElement(r,{message:t("You have successfully completed {courseName}, 1 of {totalCourses} courses in\n{s12nName} from {partners}."),courseName:e.createElement("span",{className:"body-2-text"},n.get("name")),totalCourses:s.getNumberOfCourses(),s12nName:e.createElement("span",{className:"body-2-text"},s.getName()),partners:e.createElement("span",{className:"body-2-text"},n.get("universities").getNamesString())})},EndOfCourseHeader.prototype.render=function render(){var r=this.props.s12n,n={},s="";if(r){var a=r.getHeaderImage()||c;n={background:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url("+a+")","background-size":"cover"}}else s="bgcolor-primary-dark";return e.createElement("div",{style:n,className:"rc-EndOfCourseHeader congratulations-header vertical-box align-items-absolute-center "+s},this.props.showPartner&&this.renderPartnerLogo(),e.createElement("div",{className:"congratulations display-4-text color-primary-text"},t("Congratulations!")),e.createElement("div",{className:"completion-info body-1-text"},this.renderHeaderMessage()),e.createElement(o,null))},EndOfCourseHeader}(e.Component),n.propTypes={course:e.PropTypes.instanceOf(l).isRequired,s12n:e.PropTypes.instanceOf(u),showPartner:e.PropTypes.bool},s);module.exports=m(d,["S12nStore","CourseStore"],function(e,n){var t=e.S12nStore,r=e.CourseStore;return{s12n:t.getS12n(),course:r.getMetadata()}})});